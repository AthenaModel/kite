<html>
<head>
<title>kite 0.6.0: project(n) -- Kite Project Metadata Manager, submodule of kiteutils(n)</title>
<style type="text/css" media="screen,print">
/* ehtml(5) Standard CSS */

/*---------------------------------------------------------*/
/* General Use                                             */

a {
    /* No underlines */
    text-decoration: none;
}

/* Special formatting for definition lists, to get proper
 * blank lines after descriptions but not after topics. */
dt {
    margin-bottom: 0;
}

dd { 
    margin-bottom: 1em; 
}

dd > p:first-child { 
    margin-top: 0; 
}


/*---------------------------------------------------------*/
/* Specific Macros                                         */

/* bigmark */
div.bigmark {
    display: inline;
    font-family: Verdana;
    font-size: 100%;
    background: black;
    color: white;
    border: 1px solid black;
    border-radius: 5px;
    padding-left: 2px;
    padding-right: 2px;
}

/* def, defitem, defopt */

dt.def {
    font-weight: bold;
}

dt.defitem {
    font-weight: bold;
    font-family: monospace;
}

dt.defopt {
    font-weight: bold;
    font-family: monospace;
}


/* example/ */
pre.example {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    2px;
    padding-bottom: 2px;
    padding-left:   4px;
}


/* hrule */
hr.hrule {
    margin-top: 1em;
    margin-bottom: 1em;
}

/* iref */
a.iref {
    font-family: monospace;
}

/* itemlist */                
ul.itemlist {
    padding-left: 0;
    list-style-type: none;
}

/* listing/ */
pre.listing {
    background:     #FFFDD1 ;
    border:         1px solid blue;
    padding-top:    4px;
    padding-bottom: 4px;
    padding-left:   4px;
}

span.linenum {
    background:     #E3E08F ;
}

/* mark */
div.mark {
    display:       inline;
    font-family:   Verdana;
    font-size:     75%;
    background:    black;
    color:         white;
    border:        1px solid black;
    border-radius: 5px;
    padding-left:  2px;
    padding-right: 2px;
}

/* procedure */

table.procedure {
    border: 1px solid black;
    border-collapse: collapse;
    width: 100%;
}

table.procedure td {
    border: 1px solid black;
}

td.procedure-index {
    padding-right: 5px;
    text-align: right;
    width: 2em;
}


/* topiclist/ */
.topiclist {
    margin-top:    1em;
    margin-bottom: 1em;
}

tr.topic {
    vertical-align: baseline;
}

tr.topicname {
    min-width: 1.5em;
}

/* tt/ */

.tt {
    font-family: monospace;
}



/* olp/ */

ol.olp > li {
    margin-bottom: 1em;
}

/* ulp/ */

ul.ulp > li {
    margin-bottom: 1em;
}

/*---------------------------------------------------------*/
/* table/ plus macros that use it.    Most formatting is
 * depends on the "table" class.                           */

table {
    margin-top:     1em;
    margin-bottom:  1em;
    vertical-align: baseline;
}

th {
    padding-left: 5px;
    text-align:   left;
}

td {
    padding-left:   5px;
    vertical-align: baseline;
}


/* "table" class: standard table formatting. */
.table {
    border:           1px solid black;
    border-spacing:   0;
    color:            black;
    background-color: white;
}

.table tr:first-child {
    font-weight:      bold;
    color:            white;
    background-color: #000099;    
}

.table tr.tr-odd {
    background-color: #EEEEEE;
}

.table tr.tr-even { }

.table-wide {
    width: 100%;
}

        BODY {
            color: black;
            background: white;
            margin-left: 6%;
            margin-right: 6%;
        }

        H1 {
            margin-left: -5%;
        }
        H2 {
            margin-left: -5%;
        }
        HR {
            margin-left: -5%;
        }

        TABLE {
            text-align:    left;
        }
        
        /* mktree styles */
        ul.mktree  li  { list-style: none; }
        ul.mktree, ul.mktree ul, ul.mktree li { 
            margin-left:10px; padding:0px; }
        ul.mktree li .bullet { padding-left: 10px }
        ul.mktree  li.liOpen   .bullet {cursor : pointer; }
        ul.mktree  li.liClosed .bullet {cursor : pointer; }
        ul.mktree  li.liBullet .bullet {cursor : default; }
        ul.mktree  li.liOpen   ul {display: block; }
        ul.mktree  li.liClosed ul {display: none; }
    
</style>



</head>

<body>
<h1 style="background: red;">
&nbsp;kite 0.6.0: Kite Project Automation Tool
</h1>
    

<h2><a name="name">NAME</a></h2>
    

<p><b>project(n)</b> -- Kite Project Metadata Manager, submodule of <a href="../mann/kiteutils.html">kiteutils(n)</a>

</p>

<ul>

    <li><a href="#name">NAME</a></li>
    

    <li><a href="#synopsis">SYNOPSIS</a></li>
    

    <li><a href="#description">DESCRIPTION</a></li>
    <ul>

    <li><a href="#reading_project_metadata">Reading Project Metadata</a></li>

</ul>
    

    <li><a href="#commands">COMMANDS</a></li>
    

    <li><a href="#environment">ENVIRONMENT</a></li>
    

    <li><a href="#authors">AUTHORS</a></li>
    

</ul>
    
    

<h2><a name="synopsis">SYNOPSIS</a></h2>
    

<pre>
package require kiteutils 0.6.0
namespace import ::kiteutils::*
</pre>

<ul class="itemlist">
<li><a class="iref" href="#project_add">project add <i>subcommand</i> ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_add_app">project add app <i>name</i> ?<i>options...</i>?</a></li>
<li><a class="iref" href="#project_add_lib">project add lib <i>name</i> ?<i>options...</i>?</a></li>
<li><a class="iref" href="#project_app">project app <i>subcommand</i> ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_app_names">project app names</a></li>
<li><a class="iref" href="#project_app_primary">project app primary</a></li>
<li><a class="iref" href="#project_app_apptype">project app apptype <i>app</i></a></li>
<li><a class="iref" href="#project_app_exclude">project app exclude <i>app</i></a></li>
<li><a class="iref" href="#project_app_force">project app force <i>app</i></a></li>
<li><a class="iref" href="#project_app_gui">project app gui <i>app</i></a></li>
<li><a class="iref" href="#project_app_icon">project app icon <i>app</i></a></li>
<li><a class="iref" href="#project_app_loader">project app loader <i>app</i></a></li>
<li><a class="iref" href="#project_app_binfile">project app binfile <i>app</i></a></li>
<li><a class="iref" href="#project_app_installfile">project app installfile <i>app</i></a></li>
<li><a class="iref" href="#project_description">project description</a></li>
<li><a class="iref" href="#project_dist">project dist <i>subcommand</i> ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_dist_names">project dist names</a></li>
<li><a class="iref" href="#project_dist_patterns">project dist patterns <i>dist</i></a></li>
<li><a class="iref" href="#project_dist_files">project dist files <i>dist</i></a></li>
<li><a class="iref" href="#project_dist_zipfile">project dist zipfile <i>dist</i></a></li>
<li><a class="iref" href="#project_getinfo">project getinfo</a></li>
<li><a class="iref" href="#project_globdirs">project globdirs ?<i>patterns...</i>?</a></li>
<li><a class="iref" href="#project_globfiles">project globfiles ?<i>patterns...</i>?</a></li>
<li><a class="iref" href="#project_globroot">project globroot ?<i>patterns...</i>?</a></li>
<li><a class="iref" href="#project_hasinfo">project hasinfo</a></li>
<li><a class="iref" href="#project_hook">project hook <i>when tool</i></a></li>
<li><a class="iref" href="#project_hooks">project hooks</a></li>
<li><a class="iref" href="#project_intree">project intree</a></li>
<li><a class="iref" href="#project_intree">project intree</a></li>
<li><a class="iref" href="#project_load">project load</a></li>
<li><a class="iref" href="#project_libpath">project libpath</a></li>
<li><a class="iref" href="#project_mansecs">project mansecs</a></li>
<li><a class="iref" href="#project_mansec">project mansec <i>section</i></a></li>
<li><a class="iref" href="#project_name">project name</a></li>
<li><a class="iref" href="#project_new">project new <i>name</i> ?<i>description</i>?</a></li>
<li><a class="iref" href="#project_poc">project poc</a></li>
<li><a class="iref" href="#project_provide">project provide <i>subcommand</i> ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_provide_names">project provide names</a></li>
<li><a class="iref" href="#project_provide_binary">project provide binary <i>lib</i></a></li>
<li><a class="iref" href="#project_provide_platform">project provide platform <i>lib</i></a></li>
<li><a class="iref" href="#project_provide_zipfile">project provide zipfile <i>lib</i></a></li>
<li><a class="iref" href="#project_require">project require <i>subcommand</i> ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_require_names">project require names</a></li>
<li><a class="iref" href="#project_require_version">project require version <i>lib</i></a></li>
<li><a class="iref" href="#project_require_islocal">project require islocal <i>lib</i></a></li>
<li><a class="iref" href="#project_root">project root ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_save">project save</a></li>
<li><a class="iref" href="#project_shell">project shell</a></li>
<li><a class="iref" href="#project_src">project src <i>subcommand</i> ?<i>args...</i>?</a></li>
<li><a class="iref" href="#project_src_names">project src names</a></li>
<li><a class="iref" href="#project_src_build">project src build <i>src</i></a></li>
<li><a class="iref" href="#project_src_clean">project src clean <i>src</i></a></li>
<li><a class="iref" href="#project_version">project version</a></li>
<li><a class="iref" href="#project_zippath">project zippath</a></li>
</ul>


<h2><a name="description">DESCRIPTION</a></h2>
<p>Most modules in <a href="../mann/kiteutils.html">kiteutils(n)</a> are intended for use by general
applications.  The project(n) module is specifically for use by 
Kite itself, and for external development tools that need access to 
Kite project metadata.</p>

<p>In particular, project(n) contains the code to:

</p>

<ul>
<li> Locate the root of the project tree containing the current working 
directory, if any.
</li><li> Load the project metadata from its <span class="tt">project.kite</span> file.
</li><li> Make the metadata available to the client.
</li><li> Update the metadata in certain ways.
</li><li> Save an updated project.kite.
</li><li> Create new, empty project trees.
</li></ul>
<p>In general, the commands that modify or create project trees should be 
left for Kite's use.</p>

<p>The <a href="../man5/project.html">project(5)</a> man page defines the syntax of the 
<span class="tt">project.kite</span> file.


</p>

<h2><a name="reading_project_metadata">Reading Project Metadata</a></h2>
<p>First, use <a class="iref" href="#project_root">project root</a> to find the root directory of the project tree
that contains the current working directory.  If it returns the empty string,
you are not in a project tree.</p>

<p>Next, use <a class="iref" href="#project_load">project load</a> to load the project metadata.  It will read
the project's <span class="tt">project.kite</span> file, throwing <b>SYNTAX</b> on error.</p>

<p>Next, use the various commands to query the metadata.

</p>

<h2><a name="commands">COMMANDS</a></h2>
    

<dl>

<dt class="defitem"><a name="project_add">project add <i>subcommand</i> ?<i>args...</i>?</a></dt><dd><p>

The subcommands of this command add new elements to the project
metadata.  Note that they do not add anything to project tree itself;
the code to create new project elements on the disk resides in Kite itself.
As a result, these commands should be used only by Kite itself.

</p><dl>

<dt class="defitem"><a name="project_add_app">project add app <i>name</i> ?<i>options...</i>?</a></dt><dd>

Adds a new application to the project metadata, as though it had been
read from <span class="tt">project.kite</span>.

</dd>
<dt class="defitem"><a name="project_add_lib">project add lib <i>name</i> ?<i>options...</i>?</a></dt><dd>

Adds a new provided library package to the project metadata, as though it 
had been read from <span class="tt">project.kite</span>.

</dd>
</dl>

</dd>
<dt class="defitem"><a name="project_app">project app <i>subcommand</i> ?<i>args...</i>?</a></dt><dd><p>

The subcommands of this command return information about any 
applications defined by the project.

</p><dl>

<dt class="defitem"><a name="project_app_names">project app names</a></dt><dd>

Returns a list of the names of the applications defined by the project.

</dd>
<dt class="defitem"><a name="project_app_primary">project app primary</a></dt><dd>

Returns the name of the project's primary application (the first defined
in the project file), or "" if the project doesn't include any applications.

</dd>
<dt class="defitem"><a name="project_app_apptype">project app apptype <i>app</i></a></dt><dd>

Returns the executable type for the named <i>app</i>, <b>kit</b> or <b>exe</b>.

</dd>
<dt class="defitem"><a name="project_app_exclude">project app exclude <i>app</i></a></dt><dd>

Returns a list of the <a class="iref" href="#project_require_names">project require names</a> that are explicitly
excluded from this application.

</dd>
<dt class="defitem"><a name="project_app_force">project app force <i>app</i></a></dt><dd>

Returns 1 if the named <i>app</i> was defined with the <span class="tt">-force</span> option,
and 0 otherwise.

</dd>
<dt class="defitem"><a name="project_app_gui">project app gui <i>app</i></a></dt><dd>

Returns 1 if the named <i>app</i> intends to use Tk, and 0 otherwise.

</dd>
<dt class="defitem"><a name="project_app_icon">project app icon <i>app</i></a></dt><dd>

Returns the name of the app's icon file, or "" if none.


</dd>
<dt class="defitem"><a name="project_app_loader">project app loader <i>app</i></a></dt><dd>

Returns the name of the project's application loader script, which is 
generally <span class="tt"><i>root</i>/bin/<i>app</i>.tcl</span>.

</dd>
<dt class="defitem"><a name="project_app_binfile">project app binfile <i>app</i></a></dt><dd>

Returns the name of the executable produced for <i>app</i> on the current
platform, as found in the project's <span class="tt">bin/</span> directory.

</dd>
<dt class="defitem"><a name="project_app_installfile">project app installfile <i>app</i></a></dt><dd>

Returns the name of the executable installed for <i>app</i> on the current
platform.

</dd>
</dl>

</dd>
<dt class="defitem"><a name="project_description">project description</a></dt><dd>

Returns the project's description string, a kind of project title.

</dd>
<dt class="defitem"><a name="project_dist">project dist <i>subcommand</i> ?<i>args...</i>?</a></dt><dd><p>

The subcommands of this command return information about any
distribution .zip files defined by the project.

</p><dl>

<dt class="defitem"><a name="project_dist_names">project dist names</a></dt><dd>

Returns a list of the names of the distribution sets defined by
the project.

</dd>
<dt class="defitem"><a name="project_dist_patterns">project dist patterns <i>dist</i></a></dt><dd>

Each distribution set is defined by a list of patterns which determine
which files are included in the .zip file.  This command returns the
list for the named <i>dist</i> set.

</dd>
<dt class="defitem"><a name="project_dist_files">project dist files <i>dist</i></a></dt><dd>

This command returns a dictionary of the files that match the patterns
for the named <i>dist</i> set.  The value is the full name of each file
on the disk; the key is the name of the file in the distribution, 
relative to the root directory of the distribution.

</dd>
<dt class="defitem"><a name="project_dist_zipfile">project dist zipfile <i>dist</i></a></dt><dd>

This command returns the name of the distribution .zip file for
this <i>dist</i> set.

</dd>
</dl>

</dd>
<dt class="defitem"><a name="project_getinfo">project getinfo</a></dt><dd>

This command returns a dictionary of all of the project's metadata.
The return value is in an internal format which can change without
notice.

</dd>
<dt class="defitem"><a name="project_globdirs">project globdirs ?<i>patterns...</i>?</a></dt><dd>

This command is like <a class="iref" href="#project_globroot">project globroot</a>, but returns only the names
of project directories that match the joined patterns.

</dd>
<dt class="defitem"><a name="project_globfiles">project globfiles ?<i>patterns...</i>?</a></dt><dd>

This command is like <a class="iref" href="#project_globroot">project globroot</a>, but returns only the names
of genuine files that match the joined patterns, i.e., it excludes
directories and so forth.

</dd>
<dt class="defitem"><a name="project_globroot">project globroot ?<i>patterns...</i>?</a></dt><dd>

This command joins its arguments to the project's root directory, as
<a class="iref" href="#project_root">project root</a> does, and then passes the resulting pattern to 
<span class="tt"><a href="http://www.tcl.tk/man/tcl8.6/TclCmd/glob.htm">glob</a></span>,
returning the resulting list.  If no files are found, the result is
the empty list.

</dd>
<dt class="defitem"><a name="project_hasinfo">project hasinfo</a></dt><dd>

Returns 1 if project metadata has been successfully loaded, and 0
otherwise.

</dd>
<dt class="defitem"><a name="project_hook">project hook <i>when tool</i></a></dt><dd>

The value of <i>when</i> must be one of <b>before</b> or <b>after</b>.  
Returns the list of hook scripts defined to run either <b>before</b> or
<b>after</b> the specified kite <i>tool</i>, or "" if none.  
See <a href="../man5/project.html">project(5)</a> for a list of the tools for which hooks are
defined.

</dd>
<dt class="defitem"><a name="project_hooks">project hooks</a></dt><dd>

Returns a flat list of <i>when tool</i> pairs for the hooks that are actually
defined in the project file. 

</dd>
<dt class="defitem"><a name="project_intree">project intree</a></dt><dd>

After <a class="iref" href="#project_root">project root</a> has been called at least once, this command
returns 1 if the current working directory is within a Kite project
tree, and 0 otherwise.

</dd>
<dt class="defitem"><a name="project_intree">project intree</a></dt><dd>

After <a class="iref" href="#project_root">project root</a> has been called at least once, this command
returns 1 if the current working directory is within a Kite project
tree, and 0 otherwise.

</dd>
<dt class="defitem"><a name="project_load">project load</a></dt><dd>

Attempts to load the project metadata from the <span class="tt">project.kite</span> file.
Be sure to call <a class="iref" href="#project_root">project root</a> first, and verify that there is a
profile file to load.  Once the metadata has been loaded, 
<a class="iref" href="#project_hasinfo">project hasinfo</a> will return 1.

</dd>
<dt class="defitem"><a name="project_libpath">project libpath</a></dt><dd>

Returns a Tcl list of library directories associated with this project.
This is typically used to initialize TCL_LIB_PATH prior to invoking 
an external tclsh.

</dd>
<dt class="defitem"><a name="project_mansecs">project mansecs</a></dt><dd>

Returns the section tags associated with the man page sections defined 
for this project.

</dd>
<dt class="defitem"><a name="project_mansec">project mansec <i>section</i></a></dt><dd>

Returns the title of the man page section with tag <i>section</i>.

</dd>
<dt class="defitem"><a name="project_name">project name</a></dt><dd>

Returns the project's name.

</dd>
<dt class="defitem"><a name="project_new">project new <i>name</i> ?<i>description</i>?</a></dt><dd><p>

Creates a new project called <i>name</i> in a subdirectory of the current
working also called <i>name</i>.  The project's description defaults to 
"Your project description".</p>

<p>This command is for use by Kite itself, and should be used with
caution.


</p>
</dd>
<dt class="defitem"><a name="project_poc">project poc</a></dt><dd>

Returns the e-mail address of the project's point-of-contact.

</dd>
<dt class="defitem"><a name="project_provide">project provide <i>subcommand</i> ?<i>args...</i>?</a></dt><dd><p>

The subcommands of this command return information about any 
library packages provided by the project for external use.

</p><dl>

<dt class="defitem"><a name="project_provide_names">project provide names</a></dt><dd>

Returns a list of the names of the library packages 
provided by the project.

</dd>
<dt class="defitem"><a name="project_provide_binary">project provide binary <i>lib</i></a></dt><dd>

Returns 1 if the named <i>lib</i> is a compiled binary extension, and 0
if it is pure-Tcl.

</dd>
<dt class="defitem"><a name="project_provide_platform">project provide platform <i>lib</i></a></dt><dd>

Returns the platform string to use when wrapping the library.  For pure-Tcl
packages, this is "<span class="tt">tcl</span>"; for binary packages it is generally the 
<span class="tt">platform::identify</span> string.

</dd>
<dt class="defitem"><a name="project_provide_zipfile">project provide zipfile <i>lib</i></a></dt><dd>

Provides the base name of the teapot .zip file Kite produces when building
the provided library.

</dd>
</dl>

</dd>
<dt class="defitem"><a name="project_require">project require <i>subcommand</i> ?<i>args...</i>?</a></dt><dd><p>

The subcommands of this command return information about any 
external library packages required by the project.

</p><dl>

<dt class="defitem"><a name="project_require_names">project require names</a></dt><dd>

Returns a list of the names of the external library packages
required by the project.

</dd>
<dt class="defitem"><a name="project_require_version">project require version <i>lib</i></a></dt><dd>

Returns the version number of the named <i>lib</i> that the project requires.

</dd>
<dt class="defitem"><a name="project_require_islocal">project require islocal <i>lib</i></a></dt><dd>

Returns 1 if the required <i>lib</i> is locally built (and so must be
installed manually by the developer) and 0 if it is available remotely
(i.e., from <span class="tt">teapot.activestate.com</span>).

</dd>
</dl>

</dd>
<dt class="defitem"><a name="project_root">project root ?<i>args...</i>?</a></dt><dd><p>

Called with no arguments, this command locates the root directory of the 
Kite project containing the current working directory, i.e., the directory
in which <span class="tt">project.kite</span> is found.  If arguments are provided, they 
are joined to the root directory as by 
<span class="tt"><a href="http://www.tcl.tk/man/tcl8.6/TclCmd/file.htm">file join</a></span>
and the result is returned.</p>

<p>If no project is found, the command returns the empty string whether it
is given arguments or not.

</p>
</dd>
<dt class="defitem"><a name="project_save">project save</a></dt><dd>

Saves the current metadata to <span class="tt">project.kite</span>.  This is useful only
after using one of the <a class="iref" href="#project_add">project add</a> commands, and should be left
to Kite itself.

</dd>
<dt class="defitem"><a name="project_shell">project shell</a></dt><dd>

Returns the shell initialization script defined in the project file,
or "" if none.

</dd>
<dt class="defitem"><a name="project_src">project src <i>subcommand</i> ?<i>args...</i>?</a></dt><dd><p>

The subcommands of this command return information about any 
"<span class="tt">src</span>/" directories defined by the project.  "<span class="tt">src</span>/"
directories usually contain non-Tcl code that needs to compiled and 
built into a binary Tcl extension.

</p><dl>

<dt class="defitem"><a name="project_src_names">project src names</a></dt><dd>

Returns a list of the names of the "<span class="tt">src</span>/" directory names
defined by the project.

</dd>
<dt class="defitem"><a name="project_src_build">project src build <i>src</i></a></dt><dd>

Returns the build command for the named <i>src</i> directory, the 
command used to compile the contents of the directory.

</dd>
<dt class="defitem"><a name="project_src_clean">project src clean <i>src</i></a></dt><dd>

Returns the clean command for the named <i>src</i> directory, the
command used to clean up all build products for the directory.

</dd>
</dl>


</dd>
<dt class="defitem"><a name="project_version">project version</a></dt><dd>

Returns the project's version number, which must be a valid Tcl package 
version number.

</dd>
<dt class="defitem"><a name="project_zippath">project zippath</a></dt><dd>

Returns the absolute path of the directory in which Kite places the
teapot .zip files it builds for provided library packages.


</dd>
</dl>

<h2><a name="environment">ENVIRONMENT</a></h2>
<p>Requires Tcl 8.6 or later.

</p>

<h2><a name="authors">AUTHORS</a></h2>
<p>Will Duquette

</p>

<hr>
<p><i>kite 0.6.0 Man page generated by manpage(n) on 
Mon Oct 03 13:02:09 PDT 2016</i>
</p>

</body>
</html>
    






